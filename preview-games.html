<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Preview Games | Games & Programs</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { --primary: #3366cc; --muted: #666; --card: #e6f0ff; --bg: #f6f8fb; --neon: #00FFFF;}
    body { background: var(--bg); font-family: 'Inter', 'Segoe UI', Arial, sans-serif; margin:0;}
    header { background: var(--primary); color: #fff; padding: 12px 16px; text-align:center; font-weight:700;}
    .container { max-width:900px; margin:24px auto; background:#fff; padding:16px; border-radius:10px; box-shadow:0 8px 24px rgba(51,102,204,0.08);}
    .game-grid {display:grid; grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); gap:12px;}
    .card {background:var(--card); padding:12px; border-radius:8px; border:1px solid #99ccff; display:flex; flex-direction:column; justify-content:space-between;}
    .card h3 {margin:0 0 6px 0; color:var(--primary);}
    .card p {color:var(--muted); margin:0 0 8px 0; flex:1;}
    .btn {background:var(--primary); color:#fff; padding:8px 10px; border-radius:6px; text-decoration:none; font-weight:700; border:none; cursor:pointer;}
    .btn.secondary {background:#fff; color:var(--primary); border:1px solid #99ccff;}
    .modal {display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center;}
    .modal-content {background: #000; padding:24px 18px; border-radius:10px; border:4px solid #fff; box-shadow:0 0 30px #aaa; text-align:center;}
    .modal h2 { color: #fff; margin-top:0;}
    
    footer { text-align:center; padding:16px; color:#999;}
    footer a { color: var(--primary);}

    /* Report form styling */
    .report.card { margin-top:16px; padding:14px; gap:8px; }
    .report h3 { margin:0 0 8px 0; color:var(--primary); }
    .report label { display:block; margin:10px 0 6px 0; color:var(--primary); font-weight:700; font-size:0.95rem; }
    .report input[type="text"], .report textarea { width:100%; padding:10px; border-radius:8px; border:1px solid rgba(51,102,204,0.18); background: #fff; font-family: inherit; font-size: 0.95rem; box-sizing: border-box;}
    .report textarea { min-height:120px; resize:vertical; }
    #reportMessage { margin-top:10px;color:var(--muted); font-weight:600; }
    
    /* Minesweeper Elite Styles */
    .ms-menu { display: flex; flex-direction: column; gap: 10px; padding: 10px; }
    .ms-row { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    .ms-btn { padding: 8px 16px; background: #333; border: 1px solid #555; color: #fff; cursor: pointer; }
    .ms-btn.selected { background: var(--neon); color: #000; font-weight: bold; border-color: #fff;}
    #ms-game-container { margin-top: 15px; display: inline-block; background: #222; padding: 10px; border: 2px solid #555; border-radius: 5px; }
    #ms-grid { display: grid; gap: 1px; background: #000; }
    .ms-cell { width: 25px; height: 25px; background: #888; display: flex; justify-content: center; align-items: center; font-weight: bold; font-family: monospace; cursor: pointer; user-select: none; }
    .ms-cell.revealed { background: #333; border: 1px solid #222; color: #eee; }
    .ms-cell.flag { background: #333; color: #ff0000; }
    .ms-cell.mine { background: #f00; color: #000; }
    .ms-c1 { color: #5555ff; } .ms-c2 { color: #00aa00; } .ms-c3 { color: #ff5555; }
    .arc-hud { display:flex; justify-content:space-between; gap:10px; color:#e2f2ff; font-weight:700; margin-top:10px; }
    .arc-controls { display:flex; justify-content:center; gap:10px; margin-top:12px; flex-wrap:wrap; }
    .arc-controls .btn { min-width:90px; }
    .arc-tip { color:#9cc7d9; margin-top:8px; font-size:0.9rem; }
  </style>
</head>
<body>
  <header>Preview Games (Advance Users)</header>
  <div style="max-width:900px;margin:12px auto;text-align:right;">
    <a id="dashboardBtn" class="btn secondary" href="loggedIn.html" title="Open Dashboard">Dashboard</a>
  </div>
  <div class="container">
    <p style="color:#3366cc;font-weight:600;">Advance users can preview short, in-development games here and submit bug reports or suggestions.</p>
    <div class="game-grid" id="previewGrid">
      
      <div class="card">
        <h3>Tower Defence Collection</h3>
        <p>Vector Valley, Neon Citadel, and Sentinel Grid in one strategic package.</p>
        <a class="btn" href="tower-defence.html">Open Collection</a>
      </div>

      <div class="card">
        <h3>Aerial Combat Labs</h3>
        <p>Skygrid Dogfight, High-Altitude Duel, and Swarm Breaker prototypes.</p>
        <a class="btn" href="air-combat.html">Open Labs</a>
      </div>

      <div class="card">
        <h3>Minesweeper Elite</h3>
        <p>Flagship minesweeper with customizable difficulty and smart UI.</p>
        <button class="btn" id="runSuperMinesweeperBtn">Play Elite</button>
      </div>

      <div class="card">
        <h3>Arc Reactor</h3>
        <p>Asteroid survival. Protect the reactor core and clear debris.</p>
        <button class="btn" id="runArcBtn">Play Arc</button>
      </div>

    </div>

    <div id="superMinesweeperModal" class="modal">
      <div class="modal-content" style="background:#0b0b0b; border-color: var(--neon);">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
          <h2 style="color:var(--neon); margin:0;">Minesweeper Elite</h2>
          <button id="superMinesweeperCloseBtn" class="btn secondary" style="background:transparent; border:1px solid #555;">Close</button>
        </div>
        <div id="ms-menu" class="ms-menu">
          <div class="ms-row" style="color:#fff; font-weight:700;">Difficulty</div>
          <div class="ms-row">
            <button class="ms-btn selected" onclick="setMsDiff('easy', this)">Easy</button>
            <button class="ms-btn" onclick="setMsDiff('med', this)">Medium</button>
            <button class="ms-btn" onclick="setMsDiff('hard', this)">Hard</button>
          </div>
          <div class="ms-row" style="color:#fff; font-weight:700; margin-top:6px;">Board Size</div>
          <div class="ms-row">
            <button class="ms-btn selected" onclick="setMsSize(10, this)">10x10</button>
            <button class="ms-btn" onclick="setMsSize(14, this)">14x14</button>
            <button class="ms-btn" onclick="setMsSize(18, this)">18x18</button>
          </div>
          <div class="ms-row" style="margin-top:8px;">
            <button class="btn" style="background:var(--neon); color:#000;" onclick="startEliteMinesweeper()">Start Mission</button>
          </div>
        </div>
        <div id="ms-game-area" style="display:none;">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; color:#fff;">
            <div id="ms-flags-left" style="color:#FF0; font-weight:700;">Flags: 0</div>
            <button class="btn secondary" style="padding:6px 10px;" onclick="showMsMenu()">Menu</button>
            <div id="ms-timer" style="color:var(--neon); font-weight:700;">Time: 0</div>
          </div>
          <div id="ms-game-container">
            <div id="ms-grid" oncontextmenu="return false;"></div>
          </div>
          <div id="ms-status" style="margin-top:8px; min-height:1.2em; font-weight:700;"></div>
          <div style="margin-top:10px;">
            <button class="btn secondary" onclick="startEliteMinesweeper()">Restart</button>
          </div>
        </div>
      </div>
    </div>

    <div id="arcModal" class="modal">
      <div class="modal-content" style="background:#050b12; border-color:#22d3ee;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
          <h2 style="color:#22d3ee; margin:0;">Arc Reactor</h2>
          <button id="arcModalCloseBtn" class="btn secondary" style="background:transparent; border:1px solid #555;">Close</button>
        </div>
        <canvas id="arc-canvas" width="520" height="360" style="background:#000; border:2px solid #22d3ee;"></canvas>
        <div class="arc-hud">
          <span id="arc-score">Score: 0</span>
          <span id="arc-core">Core: 100%</span>
          <span id="arc-lives">Lives: 3</span>
          <span id="arc-wave">Wave: 1</span>
        </div>
        <div class="arc-controls">
          <button id="arcStartBtn" class="btn" style="background:#00ff87; color:#000;">Start</button>
          <button id="arcPauseBtn" class="btn secondary">Pause</button>
          <button id="arcResetBtn" class="btn secondary">Reset</button>
        </div>
        <div class="arc-tip">Arrow keys to steer, Space to fire.</div>
      </div>
    </div>

     <section class="report card" aria-label="Report a bug">
      <h3>Report a bug or suggest an improvement</h3>
      <form id="reportForm">
        <label for="gameName">Game / Preview name</label>
        <input id="gameName" type="text" required placeholder="Name of the previewed game">
        <label for="reportText">Describe the issue or suggestion</label>
        <textarea id="reportText" required placeholder="What happened? How can it be improved?"></textarea>
        <button class="btn" type="submit" style="margin-top:10px;">Send Report</button>
      </form>
      <div id="reportMessage"></div>
    </section>
  </div>
  <footer>
    &copy; 2025 Games & Programs | Contact: <a href="questions-dashboard.html">Questions & Comments</a>
  </footer>

  <script type="module" src="login.js?v=7"></script>
  <script type="module" src="minesweeper-elite.js"></script>
  <script type="module" src="arc-reactor.js"></script>
  <script type="module">
    const msOpenBtn = document.getElementById('runSuperMinesweeperBtn');
    const msModal = document.getElementById('superMinesweeperModal');
    const msCloseBtn = document.getElementById('superMinesweeperCloseBtn');
    if (msOpenBtn) {
      msOpenBtn.addEventListener('click', () => {
        if (msModal) msModal.style.display = 'flex';
        if (typeof window.showMsMenu === 'function') window.showMsMenu();
      });
    }
    if (msCloseBtn) {
      msCloseBtn.addEventListener('click', () => {
        if (msModal) msModal.style.display = 'none';
        if (typeof window.showMsMenu === 'function') window.showMsMenu();
      });
    }

    const arcOpenBtn = document.getElementById('runArcBtn');
    const arcModal = document.getElementById('arcModal');
    const arcCloseBtn = document.getElementById('arcModalCloseBtn');
    const arcStartBtn = document.getElementById('arcStartBtn');
    const arcPauseBtn = document.getElementById('arcPauseBtn');
    const arcResetBtn = document.getElementById('arcResetBtn');
    if (arcOpenBtn) {
      arcOpenBtn.addEventListener('click', () => {
        if (arcModal) arcModal.style.display = 'flex';
        if (typeof window.initArcReactorGame === 'function') window.initArcReactorGame();
        if (typeof window.resetArcReactor === 'function') window.resetArcReactor();
      });
    }
    if (arcCloseBtn) {
      arcCloseBtn.addEventListener('click', () => {
        if (arcModal) arcModal.style.display = 'none';
        if (typeof window.pauseArcReactor === 'function') window.pauseArcReactor();
      });
    }
    if (arcStartBtn) arcStartBtn.addEventListener('click', () => {
      if (typeof window.startArcReactor === 'function') window.startArcReactor();
    });
    if (arcPauseBtn) arcPauseBtn.addEventListener('click', () => {
      if (typeof window.pauseArcReactor === 'function') window.pauseArcReactor();
    });
    if (arcResetBtn) arcResetBtn.addEventListener('click', () => {
      if (typeof window.resetArcReactor === 'function') window.resetArcReactor();
    });
    
    // Report Form Logic
    document.getElementById('reportForm').addEventListener('submit', function (e) {
      e.preventDefault();
      var name = document.getElementById('gameName').value.trim();
      var text = document.getElementById('reportText').value.trim();
      var msgEl = document.getElementById('reportMessage');
      if (!name || !text) {
        msgEl.textContent = 'Please provide the game name and a description.';
        msgEl.style.color = 'var(--muted)';
        return;
      }
      msgEl.textContent = 'Thanks! Your report has been submitted.';
      msgEl.style.color = 'var(--primary)';
      setTimeout(function () {
        document.getElementById('reportForm').reset();
      }, 250);
    });
  </script>
</body>
</html>
