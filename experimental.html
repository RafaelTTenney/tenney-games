<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Experimental Games Hub</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { 
        /* Neon Theme Colors (Restored) */
        --bg: #050505; 
        --card-bg: rgba(15, 15, 15, 0.9);
        --text-light: #eee;
        --neon-main: #00FFFF;       /* General neon color (Cyan) */
        
        /* Card-Specific Accent Colors */
        --accent-a: #00FFCC;        /* Green/Cyan for Tower Defence */
        --minesweeper-accent: #FFD700; /* Yellow/Gold for Minesweeper */
        --rogue-accent: #FF55FF;     /* Magenta/Pink for Rogue Dungeon */
        --racer-accent: #FF8844;     /* Orange/Red for Neon Racer++ */
    }
    /* Main Page Styling (Dark/Neon Theme) */
    body { 
        background: var(--bg); 
        font-family: 'Inter', 'Segoe UI', Arial, sans-serif; 
        margin:0; 
        color: var(--text-light); 
    }
    header { 
        background: rgba(0,0,0,0.4); 
        color: var(--neon-main); 
        padding: 16px; 
        text-align:center; 
        font-weight:900; 
        font-size: 1.5em; 
        letter-spacing: 3px; 
        border-bottom: 2px solid var(--neon-main); 
        box-shadow: 0 0 10px rgba(0,255,255,0.4);
    }
    .container { 
        max-width:900px; 
        margin:24px auto; 
        background:transparent; 
        padding:16px; 
    }
    .game-grid {
        display:grid; 
        grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); 
        gap:20px;
    }
    .card {
        background: var(--card-bg); 
        padding:18px; 
        border-radius:12px; 
        border:1px solid rgba(255,255,255,0.08); 
        display:flex; 
        flex-direction:column; 
        justify-content:space-between;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover { 
        transform: translateY(-5px); 
        box-shadow: 0 10px 30px rgba(0,0,0,0.6); 
    }

    .card h3 {
        margin:0 0 10px 0; 
        font-size: 1.2em; 
        letter-spacing: 1px; 
        text-shadow: 0 0 5px currentColor; 
    }
    .card p {
        color:#aaa; 
        margin:0 0 15px 0; 
        flex:1; 
        font-size: 0.9em;
    }
    
    /* Card Accent Styling */
    .td-card { border-left: 4px solid var(--accent-a); box-shadow: 0 0 10px rgba(0,255,204,0.1); }
    .td-card h3 { color: var(--accent-a); }
    .ms-card { border-left: 4px solid var(--minesweeper-accent); box-shadow: 0 0 10px rgba(255,215,0,0.1); }
    .ms-card h3 { color: var(--minesweeper-accent); }
    .rd-card { border-left: 4px solid var(--rogue-accent); box-shadow: 0 0 10px rgba(255,85,255,0.1); }
    .rd-card h3 { color: var(--rogue-accent); }
    .nr-card { border-left: 4px solid var(--racer-accent); box-shadow: 0 0 10px rgba(255,136,68,0.1); }
    .nr-card h3 { color: var(--racer-accent); }


    /* Buttons (Neon Style) */
    .btn {
        background: rgba(255,255,255,0.1); 
        color: var(--text-light); 
        padding:10px 12px; 
        border-radius:6px; 
        text-decoration:none; 
        font-weight:700; 
        border:none; 
        cursor:pointer; 
        text-align: center;
        display: block; 
        width: 100%;
        box-sizing: border-box;
        transition: background 0.2s ease, transform 0.1s ease;
    }
    .btn:hover { background: rgba(255,255,255,0.2); }
    
    /* TD Link Button Style (Highlighted) */
    .btn-td { 
        background: var(--accent-a); 
        color: #000; 
        text-shadow: 0 0 2px #fff;
        border: 1px solid var(--accent-a);
        box-shadow: 0 0 15px rgba(0,255,204,0.4);
    }
    .btn-td:hover { background: #66FFD6; }

    /* --- MODAL STYLING (The full, exact neon modals requested) --- */
    .modal {
        display:none; 
        position:fixed; 
        z-index:1000; 
        left:0; 
        top:0; 
        width:100%; 
        height:100%; 
        background:rgba(0,0,0,0.9); 
        justify-content:center; 
        align-items:center; 
        backdrop-filter: blur(5px);
    }
    .modal-content {
        background: #0b0b12; 
        padding:28px 24px; 
        border-radius:15px; 
        border:3px solid var(--neon-main); 
        box-shadow:0 0 35px var(--neon-main), inset 0 0 5px var(--neon-main); 
        text-align:center;
        max-width: 80%;
        min-width: 300px;
        max-height: 90vh;
        overflow-y: auto;
    }
    .modal h2 { 
        color: var(--neon-main); 
        margin-top:0; 
        text-transform: uppercase; 
        letter-spacing: 2px;
        text-shadow: 0 0 8px currentColor; 
    }
    .modal-game-area { 
        background: #000; 
        width: 100%; 
        min-height: 250px; 
        margin-bottom: 20px; 
        border: 2px solid var(--neon-main);
        box-shadow: inset 0 0 10px var(--neon-main);
    }
    .modal .btn { 
        margin:4px; 
        border: 1px solid rgba(255,255,255,0.1); 
        background: rgba(0,0,0,0.5);
        width: auto;
        display: inline-block;
        padding: 8px 20px;
    }

    /* Specific modal adjustments to match card colors */
    #minesweeperModal .modal-content { border-color: var(--minesweeper-accent); box-shadow:0 0 35px var(--minesweeper-accent), inset 0 0 5px var(--minesweeper-accent); }
    #minesweeperModal h2 { color: var(--minesweeper-accent); }
    #minesweeperModal .modal-game-area { border-color: var(--minesweeper-accent); box-shadow: inset 0 0 10px var(--minesweeper-accent); }

    #rogueModal .modal-content { border-color: var(--rogue-accent); box-shadow:0 0 35px var(--rogue-accent), inset 0 0 5px var(--rogue-accent); }
    #rogueModal h2 { color: var(--rogue-accent); }
    #rogueModal .modal-game-area { border-color: var(--rogue-accent); box-shadow: inset 0 0 10px var(--rogue-accent); }

    #racerModal .modal-content { border-color: var(--racer-accent); box-shadow:0 0 35px var(--racer-accent), inset 0 0 5px var(--racer-accent); }
    #racerModal h2 { color: var(--racer-accent); }
    #racerModal .modal-game-area { border-color: var(--racer-accent); box-shadow: inset 0 0 10px var(--racer-accent); }

    /* Footer Centering */
    footer { text-align: center; padding: 16px; }

    @media (max-width:700px) {
      .container {padding:6px;}
      .card {padding:10px;}
      .game-grid {gap:10px;}
      .modal-content {padding:15px 10px;}
      header { font-size: 1.2em; padding: 10px; }
    }
  </style>
</head>
<body>
  <header>EXPERIMENTAL GAMES HUB</header>
  <div class="container">
    <p style="color:#aaa;font-weight:600; text-align:center; text-shadow: 0 0 3px rgba(255,255,255,0.1);">Core collection and experimental previews.</p>
    <div class="game-grid" id="previewGrid">
        
      <div class="card nr-card">
          <h3>Neon Racer++</h3>
          <p>High-speed, neon-drenched futuristic racing with custom tracks.</p>
          <button class="btn" id="runRacerBtn">Launch Game</button>
      </div>

      <div class="card ms-card">
          <h3>Minesweeper Elite</h3>
          <p>Advanced Minesweeper with new difficulty settings and themes.</p>
          <button class="btn" id="runMinesweeperBtn">Launch Game</button>
      </div>

      <div class="card rd-card">
          <h3>Rogue Dungeon</h3>
          <p>A fast-paced, turn-based dungeon crawler with permadeath and procedural levels.</p>
          <button class="btn" id="runRogueBtn">Launch Game</button>
      </div>

      <div class="card td-card">
          <h3>Tower Defence Hub</h3>
          <p>Access the core collection of Vector Valley, Neon Citadel, and Sentinel Grid. (Opens new page)</p>
          <a href="tower-defence.html" class="btn btn-td">Go To Hub Page</a>
      </div>
    </div>

    <div id="racerModal" class="modal">
        <div class="modal-content">
            <h2>Neon Racer++</h2>
            <div class="modal-game-area">
                <p style="color:#aaa; padding-top:100px;">[Racer Game Canvas/UI will load here]</p>
            </div>
            <p style="color:#ccc; font-size: 0.85em;">Use Arrow Keys to Steer and Accelerate.</p>
            <button class="btn" id="racerModalCloseBtn" style="background:red;">Close Game</button>
        </div>
    </div>

    <div id="minesweeperModal" class="modal">
        <div class="modal-content">
            <h2>Minesweeper Elite</h2>
            <div class="modal-game-area">
                <p style="color:#aaa; padding-top:100px;">[Minesweeper Game Canvas/UI will load here]</p>
            </div>
            <p style="color:#ccc; font-size: 0.85em;">Click to reveal, Right-Click to flag.</p>
            <button class="btn" id="msModalCloseBtn" style="background:red;">Close Game</button>
        </div>
    </div>

    <div id="rogueModal" class="modal">
        <div class="modal-content">
            <h2>Rogue Dungeon</h2>
            <div class="modal-game-area">
                <p style="color:#aaa; padding-top:100px;">[Rogue Dungeon Game Canvas/UI will load here]</p>
            </div>
            <p style="color:#ccc; font-size: 0.85em;">Use WASD or Arrow Keys for movement.</p>
            <button class="btn" id="rogueModalCloseBtn" style="background:red;">Close Game</button>
        </div>
    </div>
    
  </div>
  <footer>
    <p style="color:#333; margin-top: 40px;">&copy; 2025 Games & Programs</p>
  </footer>

  <script src="racer.js"></script>
  <script src="minesweeper-elite.js"></script>
  <script src="rogue-dungeon.js"></script>

  <script>
    // Helper function to bind modal behavior
    function setupModal(runBtnId, modalId, stopFnName) {
        const runBtn = document.getElementById(runBtnId);
        const modal = document.getElementById(modalId);
        const closeBtn = modal ? modal.querySelector('.btn[style*="background:red"]') : null;

        if (runBtn) {
            runBtn.addEventListener('click', () => {
                if (modal) modal.style.display = 'flex';
                // Placeholder for game init logic if function exists
                const initFn = window['init' + runBtnId.replace('run', '')];
                if (typeof initFn === 'function') {
                    try { initFn(); } catch (err) { console.error('Init error for ' + runBtnId, err); }
                }
            });
        }

        if (closeBtn) {
            closeBtn.addEventListener('click', () => {
                // Placeholder for game stop logic (e.g., stopNeonRacer)
                if (stopFnName && typeof window[stopFnName] === 'function') {
                    try { window[stopFnName](); } catch (e) {}
                }
                if (modal) modal.style.display = 'none';
            });
        }
    }

    // Bind games that use modals
    setupModal('runRacerBtn', 'racerModal', 'stopNeonRacer');
    setupModal('runMinesweeperBtn', 'minesweeperModal', 'stopMinesweeperElite');
    setupModal('runRogueBtn', 'rogueModal', 'stopRogueDungeon');
  </script>
</body>
</html>
